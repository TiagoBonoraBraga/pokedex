<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>Pokedex</title>
</head>
<body>

    <nav>
        <ul>
            <li><img src="/img/pokebola.png" alt="Pokebola"></li>
            <li>
                <a href="/">
                    <h1>Pokedex</h1>
                </a>                
            </li>
            <li><a href="#cadastro">Cadastro</a></li>
            <li><a href="#cards">Pokemons</a></li>
        </ul>
     
    </nav>

    <header>
        <img src="/img/banner.jpg" alt="banner">
    </header>

    <main>

        <section id="cadastro">

            <img src="/img/pokedex.png" alt="pokedex foto">

            <div>

                <% if(pokemon == undefined){ %>

                    <h2>Cadastre um novo Pokemon!</h2>
        
                    <form action="/create" method="POST"><!--manda os dados para a rota /add pelo metodo post-->
        
                        <label for="nome" id="labelNome">Nome:</label>
                        <input type="text" name="nome" id="nome" placeholder="Digite um nome:" required>
        
                        <label for="descricao" id="labelDescricao">Descrição:</label>
                        <input type="text" name="descricao" id="descricao" placeholder="Digite uma descrição:" required>
        
                        <label for="tipo" id="labelTipo">Tipo:</label>
                        <input type="text" name="tipo" id="tipo" placeholder="Digite um tipo:" required>
        
                        <label for="imagem" id="labelImagem">Link da Imagem</label>
                        <input type="text" name="imagem" id="imagem" placeholder="Inserir Link da imagem:" required>
        
                        <button id="btnCadastrar" type="submit">Cadastrar</button>
        
                    </form>
        
                    <% }else { %>
        
                    <h2>Atualização do Pokemon!</h2>
        
                    <form action="/update/<%= pokemon.id %>" method="POST"><!--manda os dados para a rota /add pelo metodo post-->
        
                        <label for="Nome" id="labelNome">Nome:</label>
                        <input type="text" name="nome" id="nome" value="<%= pokemon.nome %>"  placeholder="Digite um nome:" required>
        
                        <label for="Descricao" id="labelDescricao">Descrição:</label>
                        <input type="text" name="descricao" id="descricao" value="<%= pokemon.descricao %>" placeholder="Digite uma descrição:" required>
        
                        <label for="Tipo" id="labelTipo">Tipo:</label>
                        <input type="text" name="tipo" id="tipo" value="<%= pokemon.tipo %>" placeholder="Digite um tipo:" required>
        
                        <label for="Imagem" id="labelImagem">Link da Imagem</label>
                        <input type="text" name="imagem" id="imagem" value="<%= pokemon.imagem %>" placeholder="Inserir Link da imagem:" required>

        
                        <button id="btnAtualizar" type="submit">Atualizar</button>
        
                    </form>
                <% } %>
                </section>
        
                <section id="cards">
        
                    <h2>Lista de Pokemons</h2>
        
                    <% pokedex.forEach((pokemon) => { %>
                        <div class="card">
        
                            <img src="<%= pokemon.imagem %>" alt="">
                            <h3><%= pokemon.nome %></h3>
                            <p class="descricao"><%= pokemon.descricao %></p>
                            <p>Tipo: <%= pokemon.tipo %></p>
                            <a id="editar" href="/detalhes/<%= pokemon.id %>">Editar</a>
                            <a id="apagar" href="/delete/<%= pokemon.id %>">Apagar</a>
                            
                        </div>
                    <% }) %>
            </div>          
        </section>            
    </main>

    <footer>
        <p>Todos os direitos reservados para OGAIT ASHTAR &copy;</p>
        <p>Dados retirados de <a href="https://www.pokemon.com/br/pokedex/" target="_blank">Pokedex</a></p>
    </footer>
  
<script src="/js/script.js"></script> 
</body>
</html>